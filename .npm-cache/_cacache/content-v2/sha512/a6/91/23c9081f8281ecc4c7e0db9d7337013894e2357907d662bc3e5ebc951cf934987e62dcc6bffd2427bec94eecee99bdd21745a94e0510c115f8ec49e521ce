{"_attachments":{},"_id":"stable-hash","_rev":"1016868-61f2993752eaed99a4a6becb","author":{"name":"Shu Ding"},"description":"Stable JS value hash.","dist-tags":{"latest":"0.0.6"},"license":"MIT","maintainers":[{"name":"quietshu","email":"g@shud.in"}],"name":"stable-hash","readme":"# stable-hash\n\nA tiny and fast (481b <sup>[unpkg](https://unpkg.com/stable-hash@0.0.3/dist/index.mjs)</sup>) lib for \"stably hashing\" a JavaScript value. Originally created for [SWR](https://github.com/vercel/swr).\n\nIt's similar to `JSON.stringify(value)`, but:\n1. Supports any JavaScript value (BigInt, NaN, Symbol, function, class, ...)\n2. Sorts object keys (stable)\n3. Supports circular objects\n\n## Use\n\n```bash\nyarn add stable-hash\n```\n\n```js\nimport hash from 'stable-hash'\n\nhash(anyJavaScriptValueHere) // returns a string\n```\n\n## Examples\n\n### Primitive Value\n\n```js\nhash(1)\nhash('foo')\nhash(true)\nhash(undefined)\nhash(null)\nhash(NaN)\n```\n\nBigInt:\n\n```js\nhash(1) === hash(1n)\nhash(1) !== hash(2n)\n```\n\nSymbol:\n\n```js\nhash(Symbol.for('foo')) === hash(Symbol.for('foo'))\nhash(Symbol.for('foo')) === hash(Symbol('foo'))\nhash(Symbol('foo')) === hash(Symbol('foo'))\nhash(Symbol('foo')) !== hash(Symbol('bar'))\n```\n\n_Since Symbols cannot be serialized, stable-hash simply uses its description as the hash._\n\n### Regex\n\n```js\nhash(/foo/) === hash(/foo/)\nhash(/foo/) !== hash(/bar/)\n```\n\n### Date\n\n```js\nhash(new Date(1)) === hash(new Date(1))\n```\n\n### Array\n\n```js\nhash([1, '2', [new Date(3)]]) === hash([1, '2', [new Date(3)]])\nhash([1, 2]) !== hash([2, 1])\n```\n\nCircular:\n\n```js\nconst foo = []\nfoo.push(foo)\nhash(foo) === hash(foo)\n```\n\n### Object\n\n```js\nhash({ foo: 'bar' }) === hash({ foo: 'bar' })\nhash({ foo: { bar: 1 } }) === hash({ foo: { bar: 1 } })\n```\n\nStable:\n\n```js\nhash({ a: 1, b: 2, c: 3 }) === hash({ c: 3, b: 2, a: 1 })\n```\n\nCircular:\n\n```js\nconst foo = {}\nfoo.foo = foo\nhash(foo) === hash(foo)\n```\n\n### Function, Class, Set, Map, Buffer...\n\n`stable-hash` guarantees reference consistency (`===`) for objects that the constructor isn't `Object`.\n\n```js\nconst foo = () => {}\nhash(foo) === hash(foo)\nhash(foo) !== hash(() => {})\n```\n\n```js\nclass Foo {}\nhash(Foo) === hash(Foo)\nhash(Foo) !== hash(class {})\n```\n\n```js\nconst foo = new Set([1])\nhash(foo) === hash(foo)\nhash(foo) !== hash(new Set([1]))\n```\n\n## Notes\n\nThis function does something similar to `JSON.stringify`, but more than it. It doesn't generate a secure checksum, which usually has a fixed length and is hard to be reversed. With `stable-hash` it's still possible to get the original data. Also, the output might include any charaters, not just alphabets and numbers like other hash algorithms. So:\n\n- Use another encoding layer on top of it if you want to display the output. \n- Use another crypto layer on top of it if you want to have a secure and fixed length hash.\n\n```js\nimport crypto from 'crypto'\nimport hash from 'stable-hash'\n\nconst weakHash = hash(anyJavaScriptValueHere)\nconst encodedHash = Buffer.from(weakHash).toString('base64')\nconst safeHash = crypto.createHash('MD5').update(weakHash).digest('hex')\n```\n\nAlso, the consistency of this lib is sometimes guaranteed by the singularity of the WeakMap instance. So it might not generate the consistent results when running in different runtimes, e.g. server/client or parent/worker scenarios.\n\n## License\n\nCreated by Shu Ding. Released under the MIT License.\n","time":{"created":"2022-01-27T13:08:07.167Z","modified":"2025-06-03T11:17:43.620Z","0.0.2":"2021-09-17T13:56:34.073Z","0.0.1":"2021-09-17T00:07:27.962Z","0.0.3":"2022-12-15T16:43:35.926Z","0.0.4":"2024-02-13T19:24:33.587Z","0.0.5":"2025-03-13T07:51:49.916Z","0.0.6":"2025-06-02T13:08:48.184Z"},"versions":{"0.0.2":{"name":"stable-hash","version":"0.0.2","description":"Stable JS value hash.","repository":{"type":"git","url":"git+https://github.com/shuding/stable-hash.git"},"author":{"name":"Shu Ding"},"license":"MIT","main":"./dist/index.js","module":"./dist/index.mjs","scripts":{"build:mjs":"esbuild src/index.ts --minify --target=es6 --outdir=dist --out-extension:.js=.mjs","build:cjs":"esbuild src/index.ts --minify --target=es6 --outdir=dist --format=cjs","build":"yarn build:mjs && yarn build:cjs"},"devDependencies":{"esbuild":"^0.12.28"},"prettier":{"semi":false},"gitHead":"65b4e97f062e638074879525ceb21b5f25ddc280","bugs":{"url":"https://github.com/shuding/stable-hash/issues"},"homepage":"https://github.com/shuding/stable-hash#readme","_id":"stable-hash@0.0.2","_nodeVersion":"14.16.0","_npmVersion":"7.20.3","dist":{"shasum":"a909deaa5b9d430b100ca0a10132a533f2665e94","size":2084,"noattachment":false,"tarball":"https://registry.npmmirror.com/stable-hash/-/stable-hash-0.0.2.tgz","integrity":"sha512-tPwQ3c1rLIwbJpq59duoznegEbmgfV630C2n4R4G96LKBFljgK8j+O9AxjqB6cAzu4gE7s4pByrLWtZel8E+Mg=="},"_npmUser":{"name":"quietshu","email":"ds303077135@gmail.com"},"directories":{},"maintainers":[{"name":"quietshu","email":"ds303077135@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/stable-hash_0.0.2_1631886993883_0.017489791433481505"},"_hasShrinkwrap":false,"publish_time":1631886994073,"_cnpm_publish_time":1631886994073,"_cnpmcore_publish_time":"2021-12-18T15:42:01.865Z"},"0.0.1":{"name":"stable-hash","version":"0.0.1","description":"Stable JS value hash.","main":"index.js","repository":{"type":"git","url":"git+https://github.com/shuding/stable-hash.git"},"author":{"name":"Shu Ding"},"license":"MIT","scripts":{"build:mjs":"esbuild src/index.ts --minify --target=es6 --outdir=dist --out-extension:.js=.mjs","build:cjs":"esbuild src/index.ts --minify --target=es6 --outdir=dist --format=cjs","build":"yarn build:mjs && yarn build:cjs"},"devDependencies":{"esbuild":"^0.12.28"},"prettier":{"semi":false},"gitHead":"b2769b2943dc23f40aee2f8d470b0cb96160f4e3","bugs":{"url":"https://github.com/shuding/stable-hash/issues"},"homepage":"https://github.com/shuding/stable-hash#readme","_id":"stable-hash@0.0.1","_nodeVersion":"14.16.0","_npmVersion":"7.20.3","dist":{"shasum":"c7b079724ca04272dcf2ff314eb16a89aba25ca3","size":2311,"noattachment":false,"tarball":"https://registry.npmmirror.com/stable-hash/-/stable-hash-0.0.1.tgz","integrity":"sha512-HAUb9aBnn6t8qLKmZ+4roPtDfeLmJhorckQFnz8jsFBuHaII2CmsPU9pI0UXV18PUUcOaFEYCWYtlwQbfUvXWQ=="},"_npmUser":{"name":"quietshu","email":"ds303077135@gmail.com"},"directories":{},"maintainers":[{"name":"quietshu","email":"ds303077135@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/stable-hash_0.0.1_1631837247742_0.31529162882147954"},"_hasShrinkwrap":false,"publish_time":1631837247962,"_cnpm_publish_time":1631837247962,"_cnpmcore_publish_time":"2021-12-18T15:42:02.134Z"},"0.0.3":{"name":"stable-hash","version":"0.0.3","description":"Stable JS value hash.","repository":{"type":"git","url":"git+https://github.com/shuding/stable-hash.git"},"author":{"name":"Shu Ding"},"license":"MIT","main":"./dist/index.js","module":"./dist/index.mjs","types":"./dist/index.d.ts","exports":{"require":"./dist/index.js","import":"./dist/index.mjs"},"scripts":{"build:mjs":"esbuild src/index.ts --minify --target=es6 --outdir=dist --out-extension:.js=.mjs","build:cjs":"esbuild src/index.ts --minify --target=es6 --outdir=dist --format=cjs","build:types":"tsc --emitDeclarationOnly --declaration -p tsconfig.build.json","build":"yarn build:mjs && yarn build:cjs && yarn build:types","test":"jest"},"devDependencies":{"@types/jest":"^28.1.3","base64-url":"^2.3.3","esbuild":"^0.12.28","flattie":"^1.1.0","hash-obj":"^4.0.0","jest":"^28.1.1","json-stringify-deterministic":"^1.0.7","nanobench":"^2.1.1","prettier":"^2.7.1","ts-jest":"^28.0.5","typescript":"^4.7.4"},"prettier":{"semi":false},"gitHead":"be2acc38568ab553cdb79485676b71ac1db00431","bugs":{"url":"https://github.com/shuding/stable-hash/issues"},"homepage":"https://github.com/shuding/stable-hash#readme","_id":"stable-hash@0.0.3","_nodeVersion":"16.14.2","_npmVersion":"7.20.1","dist":{"integrity":"sha512-c63fvNCQ7ip1wBfPv54MflMA5L6OE5J0p6Fg13IpKft4JAFoNal8+s/jtJ8PibrwqXm4onnbeQsADs8k0NQGUA==","shasum":"0078583e684d56ca0ece08f7c588b19f88955698","tarball":"https://registry.npmmirror.com/stable-hash/-/stable-hash-0.0.3.tgz","fileCount":5,"unpackedSize":5540,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIF1RJZ6pfGLjaPXP1sW0jZlXlMh5JvycOf3o5Si/pzGPAiEA4gjcjxdkvIjgmBgbmTyKqc/0lufXeWugGgK6BVdxQ4c="}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJjm063ACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2VmpywQ/+JjG8T785YQvGVSoKvIRBwdLopWez+fV3MtJuiiYPtqA0libi\r\nbyZ5viHEu+blG5XKylFDjsDKTBOogl0T76wSnNubbxBuf1+HejMaGh8ExK70\r\nxMcFYHXmCFMjk8uwxok/nVi35Oihgm/xAkxWtTyDSX/wpnqWNAth5YBqwbma\r\nc/uHg4k6Ym6mUUiijty/KTNBYQPQqgO6puqRXrye+917TJ9+rsUinhf7m5UJ\r\nZiRxg02/6l6LDtHuTJkbDHpF8DZJiJL3zgoOPlCoHSdglFr9MM+aXFb2gUtq\r\nWKzshaM2pIcmEccj9U7fU/xnDjpKy9oRfk413GXUxDWNkv5h5RIRxy8eTwBg\r\nr9V3nczVcsoHhFnVI+m1affprOzgic3d7Z+wE2jQxGEBB072vTpyEOqiU/7s\r\nm9hjaEwpXRWhnkT45NQSDZNoP2nOUyiO3EXFeWYhfzqz5YdTLsvdVF04DyIF\r\nCrE4XDAKVQi+l0Cu5798QjLt4tI750i5XTZND/ttotA1V/YDW7tjxupSSssf\r\nL3pskbXhWdNeOLj3ndEAJ+XYEgRLt1WqY1GkWdH1Rn9q7llmjfuUBEeiizRs\r\nEl6YuooMPp2fUGdRYQurp7Ku+tOQTFMbNdq3YA40TXpDIlY+du682rJAjvFI\r\nvhgvhFzDAgUBGWi+xlHiBqqi0BE78HuJtOk=\r\n=XsVO\r\n-----END PGP SIGNATURE-----\r\n","size":2486},"_npmUser":{"name":"quietshu","email":"g@shud.in"},"directories":{},"maintainers":[{"name":"quietshu","email":"g@shud.in"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/stable-hash_0.0.3_1671122615789_0.7831061515878903"},"_hasShrinkwrap":false,"_cnpmcore_publish_time":"2022-12-15T16:49:27.102Z"},"0.0.4":{"name":"stable-hash","version":"0.0.4","description":"Stable JS value hash.","repository":{"type":"git","url":"git+https://github.com/shuding/stable-hash.git"},"author":{"name":"Shu Ding"},"license":"MIT","main":"./dist/index.js","module":"./dist/index.mjs","types":"./dist/index.d.ts","exports":{"require":"./dist/index.js","import":"./dist/index.mjs","types":"./dist/index.d.ts"},"devDependencies":{"@types/jest":"^28.1.3","base64-url":"^2.3.3","esbuild":"^0.12.28","flattie":"^1.1.0","hash-obj":"^4.0.0","jest":"^28.1.1","json-stringify-deterministic":"^1.0.7","nanobench":"^2.1.1","prettier":"^2.7.1","ts-jest":"^28.0.5","typescript":"^4.7.4"},"prettier":{"semi":false},"scripts":{"build:mjs":"esbuild src/index.ts --minify --target=es6 --outdir=dist --out-extension:.js=.mjs","build:cjs":"esbuild src/index.ts --minify --target=es6 --outdir=dist --format=cjs","build:types":"tsc --emitDeclarationOnly --declaration -p tsconfig.build.json","build":"yarn build:mjs && yarn build:cjs && yarn build:types","test":"jest"},"bugs":{"url":"https://github.com/shuding/stable-hash/issues"},"homepage":"https://github.com/shuding/stable-hash#readme","_id":"stable-hash@0.0.4","_integrity":"sha512-LjdcbuBeLcdETCrPn9i8AYAZ1eCtu4ECAWtP7UleOiZ9LzVxRzzUZEoZ8zB24nhkQnDWyET0I+3sWokSDS3E7g==","_resolved":"/private/var/folders/zr/9p6mp0r13fn3s9fxzxp33_280000gn/T/efbcc7f038e7d3415427d1fb0c552b52/stable-hash-0.0.4.tgz","_from":"file:stable-hash-0.0.4.tgz","_nodeVersion":"20.2.0","_npmVersion":"9.6.6","dist":{"integrity":"sha512-LjdcbuBeLcdETCrPn9i8AYAZ1eCtu4ECAWtP7UleOiZ9LzVxRzzUZEoZ8zB24nhkQnDWyET0I+3sWokSDS3E7g==","shasum":"55ae7dadc13e4b3faed13601587cec41859b42f7","tarball":"https://registry.npmmirror.com/stable-hash/-/stable-hash-0.0.4.tgz","fileCount":5,"unpackedSize":5463,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIQCSqLxFmXEwvIYovKVKjOLog+AKWlIr4Yc/QWRCs88TJgIgYbnV92ZpafxBw9O0ViQS7NaKI026S9VEKiEoUoWnsjQ="}],"size":2445},"_npmUser":{"name":"quietshu","email":"g@shud.in"},"directories":{},"maintainers":[{"name":"quietshu","email":"g@shud.in"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/stable-hash_0.0.4_1707852273433_0.5170144516727231"},"_hasShrinkwrap":false,"_cnpmcore_publish_time":"2024-02-13T19:24:33.587Z","publish_time":1707852273587,"_source_registry_name":"default"},"0.0.5":{"name":"stable-hash","version":"0.0.5","description":"Stable JS value hash.","repository":{"type":"git","url":"git+https://github.com/shuding/stable-hash.git"},"author":{"name":"Shu Ding"},"license":"MIT","packageManager":"pnpm@9.15.0","main":"./dist/index.js","module":"./dist/index.mjs","types":"./dist/index.d.ts","exports":{"require":"./dist/index.js","import":"./dist/index.mjs","types":"./dist/index.d.ts"},"scripts":{"build:mjs":"esbuild src/index.ts --minify --target=es6 --outdir=dist --out-extension:.js=.mjs","build:cjs":"esbuild src/index.ts --minify --target=es6 --outdir=dist --format=cjs","build:types":"tsc --emitDeclarationOnly --declaration -p tsconfig.build.json","build":"pnpm build:mjs && pnpm build:cjs && pnpm build:types","test":"jest"},"devDependencies":{"@types/jest":"^28.1.3","base64-url":"^2.3.3","esbuild":"^0.12.28","flattie":"^1.1.0","hash-obj":"^4.0.0","jest":"^28.1.1","json-stringify-deterministic":"^1.0.7","nanobench":"^2.1.1","prettier":"^2.7.1","ts-jest":"^28.0.5","typescript":"^4.7.4"},"prettier":{"semi":false},"_id":"stable-hash@0.0.5","gitHead":"1b314f2cc3e9449bc8d49e417670175cf9afd42a","bugs":{"url":"https://github.com/shuding/stable-hash/issues"},"homepage":"https://github.com/shuding/stable-hash#readme","_nodeVersion":"22.13.1","_npmVersion":"10.9.2","dist":{"integrity":"sha512-+L3ccpzibovGXFK+Ap/f8LOS0ahMrHTf3xu7mMLSpEGU0EO9ucaysSylKo9eRDFNhWve/y275iPmIZ4z39a9iA==","shasum":"94e8837aaeac5b4d0f631d2972adef2924b40269","tarball":"https://registry.npmmirror.com/stable-hash/-/stable-hash-0.0.5.tgz","fileCount":5,"unpackedSize":5596,"signatures":[{"keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U","sig":"MEUCICynWAKZ6r5vHz+pa0YqsT1C6DePhkxfMB4rlW1mIakmAiEAx3t/4LrKZFzWSjHrdq1f5YPNLyzMd6s8cRkXrC65nDg="}],"size":2483},"_npmUser":{"name":"quietshu","email":"g@shud.in"},"directories":{},"maintainers":[{"name":"quietshu","email":"g@shud.in"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages-npm-production","tmp":"tmp/stable-hash_0.0.5_1741852309757_0.4744864510781359"},"_hasShrinkwrap":false,"_cnpmcore_publish_time":"2025-03-13T07:51:49.916Z","publish_time":1741852309916,"_source_registry_name":"default"},"0.0.6":{"name":"stable-hash","version":"0.0.6","description":"Stable JS value hash.","repository":{"type":"git","url":"git+https://github.com/shuding/stable-hash.git"},"author":{"name":"Shu Ding"},"license":"MIT","packageManager":"pnpm@9.15.0","main":"./dist/index.js","module":"./dist/index.mjs","types":"./dist/index.d.ts","exports":{"require":"./dist/index.js","import":"./dist/index.mjs","types":"./dist/index.d.ts"},"scripts":{"build:mjs":"esbuild src/index.ts --minify --target=es6 --outdir=dist --out-extension:.js=.mjs","build:cjs":"esbuild src/index.ts --minify --target=es6 --outdir=dist --format=cjs","build:types":"tsc --emitDeclarationOnly --declaration -p tsconfig.build.json","build":"pnpm build:mjs && pnpm build:cjs && pnpm build:types","test":"jest"},"devDependencies":{"@types/jest":"^28.1.3","@types/node":"^22.14.0","base64-url":"^2.3.3","esbuild":"^0.12.28","flattie":"^1.1.0","hash-obj":"^4.0.0","jest":"^28.1.1","json-stringify-deterministic":"^1.0.7","nanobench":"^2.1.1","prettier":"^2.7.1","ts-jest":"^28.0.5","typescript":"^4.7.4"},"prettier":{"semi":false},"_id":"stable-hash@0.0.6","gitHead":"071d855e20d5ef4958610a3e44dbeb936a3411ca","bugs":{"url":"https://github.com/shuding/stable-hash/issues"},"homepage":"https://github.com/shuding/stable-hash#readme","_nodeVersion":"22.13.1","_npmVersion":"10.9.2","dist":{"integrity":"sha512-0afH4mobqTybYZsXImQRLOjHV4gvOW+92HdUIax9t7a8d9v54KWykEuMVIcXhD9BCi+w3kS4x7O6fmZQ3JlG/g==","shasum":"7dd2cb7c71c2526b0d089b6bf0d1fcef38a6f97e","tarball":"https://registry.npmmirror.com/stable-hash/-/stable-hash-0.0.6.tgz","fileCount":5,"unpackedSize":5637,"signatures":[{"keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U","sig":"MEYCIQDvPhV3BYGgzCcMdgXs15dXkUDpfkRMOzHy6qfsiPF6MwIhAKZpy1hJuP03/U5LvGC+qutE4R1+kKmxEecFaSThBci5"}],"size":2494},"_npmUser":{"name":"quietshu","email":"g@shud.in"},"directories":{},"maintainers":[{"name":"quietshu","email":"g@shud.in"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages-npm-production","tmp":"tmp/stable-hash_0.0.6_1748869728011_0.6696344339122868"},"_hasShrinkwrap":false,"_cnpmcore_publish_time":"2025-06-02T13:08:48.184Z","publish_time":1748869728184,"_source_registry_name":"default"}},"bugs":{"url":"https://github.com/shuding/stable-hash/issues"},"homepage":"https://github.com/shuding/stable-hash#readme","repository":{"type":"git","url":"git+https://github.com/shuding/stable-hash.git"},"_source_registry_name":"default"}