{"_attachments":{},"_id":"sb-scandir","_rev":"1295734-61f2e7d59a4536a140c9a08f","author":{"name":"steelbrain"},"description":"File scanning module for Node.js","dist-tags":{"latest":"3.1.1"},"license":"MIT","maintainers":[{"name":"steelbrain","email":"hello@aneesiqbal.ai"}],"name":"sb-scandir","readme":"# ScanDir\n\n`sb-scandir` is a node module that supports simple file scanning with some sugar features.\n\n## Installation\n\n```\nnpm install --save sb-scandir\n```\n\n## API\n\n```js\ninterface Result {\n  files: Array<string>\n  directories: Array<string>\n}\n\ninterface FileSystem {\n  join(pathA: string, pathB: string): string\n  basename(path: string): string\n  stat(path: string): Promise<fs.Stats>\n  readdir(path: string): Promise<string[]>\n}\n\ntype Validate = (path: string) => boolean\n\nexport const defaultFilesystem: FileSystem;\n\nexport default async function scanDirectory(\n  path: string,\n  {\n    recursive = true,\n    validate = null,\n    concurrency = Infinity,\n    fileSystem = defaultFilesystem,\n  }: {\n    recursive?: boolean\n    validate?: Validate | null\n    concurrency?: number\n    fileSystem?: Partial<FileSystem>\n  } = {},\n): Promise<Result>;\n```\n\n## Examples\n\n```js\nimport Path from 'path'\nimport scandir, { defaultFilesystem } from 'sb-scandir'\n// or\nconst { default: scandir, defaultFilesystem } = require('sb-scandir')\n\n// Scan all files except the dot ones\nscandir(__dirname).then(function(result) {\n  console.log('files', result.files)\n  console.log('directories', result.directories)\n})\n\n// Scan all top level files except dot ones\nscandir(__dirname, { recursive: false }).then(function(files) {\n  console.log('files', result.files)\n  console.log('directories', result.directories)\n})\n\n// Scan all files even the dot ones\nscandir(__dirname, { recursive: true, validate(path) {\n  return true\n}}).then(function(files) {\n  console.log('files', result.files)\n  console.log('directories', result.directories)\n})\n\n// Scan all files except in .git and node_modules\nscandir(__dirname, { recursive: true, validate(path) {\n  const baseName = Path.basename(path)\n  return baseName !== '.git' && baseName !== 'node_modules'\n}}).then(function(files) {\n  console.log('files', result.files)\n  console.log('directories', result.directories)\n})\n```\n\n## License\n\nThis project is licensed under the terms of MIT License. See the LICENSE file for more info.\n","time":{"created":"2022-01-27T18:43:33.191Z","modified":"2025-06-06T16:51:51.625Z","3.1.0":"2020-08-03T13:50:06.736Z","3.0.0":"2020-05-03T22:50:58.519Z","2.0.0":"2017-09-18T08:19:04.087Z","1.0.0":"2016-08-21T22:31:26.394Z","3.1.1":"2025-06-04T14:28:05.566Z"},"versions":{"3.1.0":{"name":"sb-scandir","version":"3.1.0","description":"File scanning module for Node.js","main":"lib/cjs/index.js","typings":"lib/typings/index.d.ts","module":"lib/esm/index.mjs","exports":{".":{"import":"./lib/esm/index.mjs","require":"./lib/cjs/index.js"},"./package.json":"./package.json"},"type":"commonjs","scripts":{"test":"ava","lint":"(tsc -p . --noEmit) && (eslint . --ext .ts) && (prettier --list-different src/*.ts)","prepare":"yarn build:clean ; yarn build:esm ; yarn build:cjs ; yarn build:typings","build:clean":"rm -rf lib","build:esm":"tsc --module es2015 --target es2018 --outDir lib/esm && mv lib/esm/index.js lib/esm/index.mjs","build:cjs":"tsc --module commonjs --target es5 --outDir lib/cjs","build:typings":"tsc --declaration --outDir lib/typings --emitDeclarationOnly"},"repository":{"type":"git","url":"git+https://github.com/steelbrain/scandir.git"},"keywords":["scandir","steelbrain","files","scan"],"author":{"name":"steelbrain"},"license":"MIT","bugs":{"url":"https://github.com/steelbrain/scandir/issues"},"homepage":"https://github.com/steelbrain/scandir#readme","devDependencies":{"ava":"^3.11.1","eslint-config-steelbrain":"^10.0.0-beta2","ts-node":"^8.10.2","typescript":"^3.9.7"},"dependencies":{"sb-promise-queue":"^2.1.0"},"ava":{"files":["test/*-test.ts"],"extensions":["ts"],"require":["ts-node/register/transpile-only"]},"engines":{"node":">= 8"},"gitHead":"fd28020965ebf7567f35d1133dfb5f3fc46ef42f","_id":"sb-scandir@3.1.0","_nodeVersion":"14.7.0","_npmVersion":"6.14.7","dist":{"shasum":"31c346abb5184b73c5a25b286858f4299aa8756c","size":5274,"noattachment":false,"tarball":"https://registry.npmmirror.com/sb-scandir/-/sb-scandir-3.1.0.tgz","integrity":"sha512-70BVm2xz9jn94zSQdpvYrEG101/UV9TVGcfWr9T5iob3QhCK4lYXeculfBqPGFv3XTeKgx4dpWyYIDeZUqo4kg=="},"maintainers":[{"name":"steelbrain","email":"i@steelbrain.me"}],"_npmUser":{"name":"steelbrain","email":"i@steelbrain.me"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/sb-scandir_3.1.0_1596462606623_0.7380826594377083"},"_hasShrinkwrap":false,"publish_time":1596462606736,"_cnpm_publish_time":1596462606736,"_cnpmcore_publish_time":"2021-12-18T19:56:49.526Z"},"3.0.0":{"name":"sb-scandir","version":"3.0.0","description":"File scanning module for Node.js","main":"lib/cjs/index.js","typings":"lib/typings/index.d.ts","module":"lib/esm/index.js","scripts":{"test":"ava","lint":"(tsc -p . --noEmit) && (eslint . --ext .ts) && (prettier --list-different src/*.ts)","prepare":"yarn build:clean ; yarn build:esm ; yarn build:cjs ; yarn build:typings","build:clean":"rm -rf lib","build:esm":"tsc --module es2015 --target es2018 --outDir lib/esm","build:cjs":"tsc --module commonjs --target es5 --outDir lib/cjs","build:typings":"tsc --declaration --outDir lib/typings --emitDeclarationOnly"},"repository":{"type":"git","url":"git+https://github.com/steelbrain/scandir.git"},"keywords":["scandir","steelbrain","files","scan"],"author":{"name":"steelbrain"},"license":"MIT","bugs":{"url":"https://github.com/steelbrain/scandir/issues"},"homepage":"https://github.com/steelbrain/scandir#readme","devDependencies":{"ava":"^3.7.0","eslint-config-steelbrain":"^9.0.1","ts-node":"^8.8.2","typescript":"^3.8.3"},"dependencies":{"sb-promise-queue":"^2.0.0"},"ava":{"files":["test/*-test.ts"],"extensions":["ts"],"require":["ts-node/register/transpile-only"]},"engines":{"node":">= 8"},"gitHead":"f83d78572ded695c218a51e2e5877b655f68155b","_id":"sb-scandir@3.0.0","_nodeVersion":"12.16.2","_npmVersion":"6.14.4","dist":{"shasum":"b2f462094f661f12a089f55139b8edbf5ce5b088","size":5139,"noattachment":false,"tarball":"https://registry.npmmirror.com/sb-scandir/-/sb-scandir-3.0.0.tgz","integrity":"sha512-QH1L5cxhRcXI440ShNCPkxQBkzAqWe4je0FoWvfOB1+LDtWYGCJrbn8jK41qBqGqccFw0Mg8OmhR6cHnr3/rfw=="},"maintainers":[{"name":"steelbrain","email":"i@steelbrain.me"}],"_npmUser":{"name":"steelbrain","email":"i@steelbrain.me"},"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/sb-scandir_3.0.0_1588546258394_0.7572883903304541"},"_hasShrinkwrap":false,"publish_time":1588546258519,"_cnpm_publish_time":1588546258519,"_cnpmcore_publish_time":"2021-12-18T19:56:49.759Z"},"2.0.0":{"name":"sb-scandir","version":"2.0.0","description":"File scanning module for Node.js","main":"lib/index.js","scripts":{"test":"(apm test) && (flow check) && (eslint . )","clean":"rm -rf lib","build":"npm run clean; babel src --out-dir lib","watch":"npm run clean; babel src --out-dir lib --watch"},"devDependencies":{"babel-cli":"^6.11.4","babel-preset-steelbrain":"^5.0.0","eslint-config-steelbrain":"^3.0.0","flow-bin":"^0.54.1","jasmine-fix":"^1.0.1"},"dependencies":{"p-map":"^1.2.0","sb-promisify":"^2.0.1"},"repository":{"type":"git","url":"git+https://github.com/steelbrain/scandir.git"},"keywords":["scandir","steelbrain","files","scan"],"author":{"name":"steelbrain"},"license":"MIT","bugs":{"url":"https://github.com/steelbrain/scandir/issues"},"homepage":"https://github.com/steelbrain/scandir#readme","gitHead":"8db7360559199a5e64974f29cb8ea1fb2fec247a","_id":"sb-scandir@2.0.0","_npmVersion":"5.4.2","_nodeVersion":"8.5.0","_npmUser":{"name":"steelbrain","email":"i@steelbrain.me"},"dist":{"shasum":"a02ad1fa44a8bd2bfaf30193d14d23c2f35ab6b2","size":3156,"noattachment":false,"tarball":"https://registry.npmmirror.com/sb-scandir/-/sb-scandir-2.0.0.tgz","integrity":"sha512-SKbyMJB0DUt9OgN4tP2RBcn9OsR26DEpe+nwaDkQTNcrJSJI0FlLhXhBpTd/YEnlQ2GdLrbszSNekGLw4rweOQ=="},"maintainers":[{"name":"steelbrain","email":"i@steelbrain.me"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/sb-scandir-2.0.0.tgz_1505722743056_0.014746511355042458"},"directories":{},"publish_time":1505722744087,"_hasShrinkwrap":false,"_cnpm_publish_time":1505722744087,"_cnpmcore_publish_time":"2021-12-18T19:56:50.007Z"},"1.0.0":{"name":"sb-scandir","version":"1.0.0","description":"File scanning module for Node.js","main":"lib/index.js","scripts":{"test":"(apm test) && (flow check | grep -q '0 errors') && (eslint . )","clean":"rm -rf lib","build":"npm run clean; babel src --out-dir lib","watch":"npm run clean; babel src --out-dir lib --watch"},"devDependencies":{"babel-cli":"^6.11.4","babel-preset-steelbrain":"^4.0.2","eslint-config-steelbrain":"^1.0.4","flow-bin":"^0.30.0","jasmine-fix":"^1.0.1"},"dependencies":{"sb-promisify":"^1.3.0"},"repository":{"type":"git","url":"git+https://github.com/steelbrain/scandir.git"},"keywords":["scandir","steelbrain","files","scan"],"author":{"name":"steelbrain"},"license":"MIT","bugs":{"url":"https://github.com/steelbrain/scandir/issues"},"homepage":"https://github.com/steelbrain/scandir#readme","gitHead":"cb7a24293d5f0ebecbbc8d364829c283b8a8ce47","_id":"sb-scandir@1.0.0","_shasum":"102b4666c7b644f4287f0d33ceb4374fac1bfa15","_from":".","_npmVersion":"3.10.3","_nodeVersion":"6.3.1","_npmUser":{"name":"steelbrain","email":"i@steelbrain.me"},"dist":{"shasum":"102b4666c7b644f4287f0d33ceb4374fac1bfa15","size":3341,"noattachment":false,"tarball":"https://registry.npmmirror.com/sb-scandir/-/sb-scandir-1.0.0.tgz","integrity":"sha512-0rKtb7W2BwMThDuF8p1ulU0reC8KHBGQEmHlEJ2NHWBRlFT4etj/1DZ8bGujqGIXoY4BztozLo8YSAdHT7Fd7A=="},"maintainers":[{"name":"steelbrain","email":"i@steelbrain.me"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/sb-scandir-1.0.0.tgz_1471818684600_0.959653042955324"},"directories":{},"publish_time":1471818686394,"_hasShrinkwrap":false,"_cnpm_publish_time":1471818686394,"_cnpmcore_publish_time":"2021-12-18T19:56:50.234Z"},"3.1.1":{"name":"sb-scandir","version":"3.1.1","description":"File scanning module for Node.js","main":"lib/cjs/index.js","typings":"lib/typings/index.d.ts","module":"lib/esm/index.mjs","exports":{".":{"types":"./lib/typings/index.d.ts","import":"./lib/esm/index.mjs","require":"./lib/cjs/index.js"},"./package.json":"./package.json"},"type":"commonjs","scripts":{"test":"ava","lint":"(tsc -p . --noEmit) && (eslint . --ext .ts) && (prettier --list-different src/*.ts)","prepare":"yarn build:clean ; yarn build:esm ; yarn build:cjs ; yarn build:typings","build:clean":"rm -rf lib","build:esm":"tsc --module es2015 --target es2018 --outDir lib/esm && mv lib/esm/index.js lib/esm/index.mjs","build:cjs":"tsc --module commonjs --target es5 --outDir lib/cjs","build:typings":"tsc --declaration --outDir lib/typings --emitDeclarationOnly"},"repository":{"type":"git","url":"git+https://github.com/steelbrain/scandir.git"},"keywords":["scandir","steelbrain","files","scan"],"author":{"name":"steelbrain"},"license":"MIT","bugs":{"url":"https://github.com/steelbrain/scandir/issues"},"homepage":"https://github.com/steelbrain/scandir#readme","devDependencies":{"ava":"^3.11.1","eslint-config-steelbrain":"^10.0.0-beta2","ts-node":"^8.10.2","typescript":"^3.9.7"},"dependencies":{"sb-promise-queue":"^2.1.0"},"ava":{"files":["test/*-test.ts"],"extensions":["ts"],"require":["ts-node/register/transpile-only"]},"engines":{"node":">= 8"},"packageManager":"yarn@1.22.22+sha512.a6b2f7906b721bba3d67d4aff083df04dad64c399707841b7acf00f6b133b7ac24255f2652fa22ae3534329dc6180534e98d17432037ff6fd140556e2bb3137e","_id":"sb-scandir@3.1.1","gitHead":"2baf3e6304b647655af9d2f6eba5f139dbdc4e16","_nodeVersion":"22.15.0","_npmVersion":"10.9.2","dist":{"integrity":"sha512-Q5xiQMtoragW9z8YsVYTAZcew+cRzdVBefPbb9theaIKw6cBo34WonP9qOCTKgyAmn/Ch5gmtAxT/krUgMILpA==","shasum":"4792a74ef75e17c2e49c0466f738013fe8698eb8","tarball":"https://registry.npmmirror.com/sb-scandir/-/sb-scandir-3.1.1.tgz","fileCount":6,"unpackedSize":17538,"signatures":[{"keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U","sig":"MEUCIES5iexUeV3RODuq7zDZiy9NQS1s5qgAGlhQh3ZDvQmjAiEA0BSbJF92nikeoiCoaRQ6ZfXpZV2iO5juy9HrAivdP2E="}],"size":5063},"_npmUser":{"name":"steelbrain","email":"hello@aneesiqbal.ai"},"directories":{},"maintainers":[{"name":"steelbrain","email":"hello@aneesiqbal.ai"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages-npm-production","tmp":"tmp/sb-scandir_3.1.1_1749047285366_0.2633250722425087"},"_hasShrinkwrap":false,"_cnpmcore_publish_time":"2025-06-04T14:28:05.566Z","publish_time":1749047285566,"_source_registry_name":"default"}},"bugs":{"url":"https://github.com/steelbrain/scandir/issues"},"homepage":"https://github.com/steelbrain/scandir#readme","keywords":["scandir","steelbrain","files","scan"],"repository":{"type":"git","url":"git+https://github.com/steelbrain/scandir.git"},"_source_registry_name":"default"}