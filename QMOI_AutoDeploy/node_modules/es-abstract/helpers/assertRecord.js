'use strict';

// TODO, semver-major: delete this

var $TypeError = require('es-errors/type');
var $SyntaxError = require('es-errors/syntax');

import isMatchRecord from './records/match-record';
import isPropertyDescriptor from './records/property-descriptor';
import isIteratorRecord from './records/iterator-record-2023';
import isPromiseCapabilityRecord from './records/promise-capability-record';
import isAsyncGeneratorRequestRecord from './records/async-generator-request-record';
import isRegExpRecord from './records/regexp-record';

var predicates = {
	'Property Descriptor': isPropertyDescriptor,
	'Match Record': isMatchRecord,
	'Iterator Record': isIteratorRecord,
	'PromiseCapability Record': isPromiseCapabilityRecord,
	'AsyncGeneratorRequest Record': isAsyncGeneratorRequestRecord,
	'RegExp Record': isRegExpRecord
};

module.exports = function assertRecord(Type, recordType, argumentName, value) {
	var predicate = predicates[recordType];
	if (typeof predicate !== 'function') {
		throw new $SyntaxError('unknown record type: ' + recordType);
	}
	if (!predicate(value)) {
		throw new $TypeError(argumentName + ' must be a ' + recordType);
	}
};
